<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Live Cricket Stream</title>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <style>
:root {
  --asmani: #cfe9ff;
  --asmani-deep: #a8d6ff;
  --asmani-bubble: rgba(255,255,255,0.35);
  --ink: #0f3555;
}
* { box-sizing: border-box; }
html, body { height: 100%; margin: 0; font-family: system-ui, Arial, sans-serif; color: var(--ink); }
.bubble-bg {
  position: fixed; inset: 0;
  background: radial-gradient(1200px 800px at 70% -10%, var(--asmani-deep), var(--asmani)),
              linear-gradient(180deg, var(--asmani), #e9f4ff);
  overflow: hidden; z-index: -1;
}
.bubble-bg::before, .bubble-bg::after {
  content: ""; position: absolute; inset: 0; background-repeat: repeat;
  background-image:
    radial-gradient(12px 12px at 10% 90%, var(--asmani-bubble) 40%, transparent 41%),
    radial-gradient(8px 8px at 30% 80%, var(--asmani-bubble) 40%, transparent 41%),
    radial-gradient(10px 10px at 50% 95%, var(--asmani-bubble) 40%, transparent 41%),
    radial-gradient(14px 14px at 70% 85%, var(--asmani-bubble) 40%, transparent 41%),
    radial-gradient(9px 9px at 90% 92%, var(--asmani-bubble) 40%, transparent 41%);
  animation: rise 18s linear infinite; opacity: 0.6;
}
.bubble-bg::after { animation-duration: 22s; animation-delay: -5s; opacity: 0.45; }
@keyframes rise {
  0% { background-position: 0 100%, 0 100%, 0 100%, 0 100%, 0 100%; }
  100% { background-position: 0 -10%, 0 -10%, 0 -10%, 0 -10%, 0 -10%; }
}
.topbar {
  display: flex; justify-content: space-between; align-items: center;
  padding: 12px 16px; background: rgba(255,255,255,0.7); backdrop-filter: blur(6px);
  border-bottom: 1px solid rgba(0,0,0,0.05);
}
.brand { font-weight: 700; font-size: 18px; }
.pill { font-size: 10px; padding: 6px 10px; border-radius: 999px; text-decoration: none; display: inline-block; }
.pill.red { background: #f44336; color: #fff; }
.pill.pink { background: #ff6ea8; color: #fff; }
.links a { margin-left: 8px; }
.pill:hover { filter: brightness(0.95); transform: scale(1.05); transition: all 0.2s; }
.container { max-width: 960px; margin: 18px auto; padding: 0 12px; }
.player { position: relative; }
video { width: 100%; background: #000; border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,0.15); }
.quality { position: absolute; bottom: 12px; right: 12px; display: flex; gap: 6px; }
.quality button { background: rgba(0,0,0,0.6); color: #fff; border: 0; padding: 6px 8px; border-radius: 8px; cursor: pointer; font-size: 12px; }
.quality button:hover { background: rgba(0,0,0,0.8); }
.status { text-align: center; margin: 10px 0; opacity: 0.8; }
  </style>
</head>
<body>
  <div class="bubble-bg"></div>
  <header class="topbar">
    <div class="brand">üèè Live Cricket Stream</div>
    <nav class="links">
      <a class="pill red" href="https://t.me/+faHM0DpI-9swY2E1" target="_blank">Join Now</a>
      <a class="pill red" href="https://t.me/+faHM0DpI-9swY2E1" target="_blank">Get Updates</a>
      <a class="pill red" href="https://t.me/+faHM0DpI-9swY2E1" target="_blank">Exclusive Access</a>
      <a class="pill red" href="https://t.me/+faHM0DpI-9swY2E1" target="_blank">Connect Telegram</a>
      <a class="pill pink" href="https://t.me/+faHM0DpI-9swY2E1" target="_blank">Become premium ü©∑</a>
    </nav>
  </header>
  <main class="container">
    <div class="status" id="status">Connecting to live stream...</div>
    <section class="player">
      <video id="video" playsinline controls muted preload="auto"></video>
      <div class="quality" id="quality"></div>
    </section>
  </main>
  <script>
const video = document.getElementById('video');
const quality = document.getElementById('quality');
const status = document.getElementById('status');

// Your slivcdn stream URL
const streamUrl = "https://liveakmt-p.slivcdn.com/hls/live/2119921/cricacc12809/HIN/std_lrh-800300010.m3u8?hdnea=exp=1759105837~acl=/*~id=32046197396811354804778693895581~hmac=b25acb2892415b9e52fc018aed5b352adcb8b9fae1874c2fc164931809be9634";

function updateStatus(msg) {
    status.textContent = msg;
}

// Try native HLS first (Safari/iOS)
if (video.canPlayType('application/vnd.apple.mpegurl')) {
    video.src = streamUrl;
    video.addEventListener('loadstart', () => updateStatus('Loading stream...'));
    video.addEventListener('loadeddata', () => updateStatus('Stream loaded, ready to play'));
    video.addEventListener('error', () => updateStatus('Error loading stream'));
    video.play().catch(() => {});
} 
// Use hls.js for other browsers
else if (typeof Hls !== 'undefined' && Hls.isSupported()) {
    const hls = new Hls({
        enableWorker: true,
        lowLatencyMode: true,
        backBufferLength: 90,
        fragLoadingTimeOut: 20000,
        manifestLoadingTimeOut: 10000,
        fragLoadingMaxRetry: 6,
        manifestLoadingMaxRetry: 6,
        xhrSetup: function (xhr, url) {
            // Add headers to help with CORS/authentication
            xhr.setRequestHeader('Referer', 'https://cricstream.me');
            xhr.setRequestHeader('User-Agent', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36');
        }
    });
    
    hls.loadSource(streamUrl);
    hls.attachMedia(video);
    
    hls.on(Hls.Events.MANIFEST_PARSED, () => {
        updateStatus('Stream connected successfully!');
        
        // Add quality buttons
        quality.innerHTML = "";
        if (hls.levels?.length > 1) {
            const auto = document.createElement('button');
            auto.textContent = 'Auto';
            auto.onclick = () => hls.currentLevel = -1;
            quality.appendChild(auto);
            
            hls.levels.forEach((level, i) => {
                const btn = document.createElement('button');
                btn.textContent = level.height ? `${level.height}p` : `${Math.round(level.bitrate/1000)}k`;
                btn.onclick = () => hls.currentLevel = i;
                quality.appendChild(btn);
            });
        }
        
        video.play().catch(() => updateStatus('Click play button to start'));
    });
    
    hls.on(Hls.Events.ERROR, (event, data) => {
        console.error('HLS Error:', data);
        if (data.fatal) {
            switch (data.type) {
                case Hls.ErrorTypes.NETWORK_ERROR:
                    updateStatus('Network error - retrying...');
                    hls.startLoad();
                    break;
                case Hls.ErrorTypes.MEDIA_ERROR:
                    updateStatus('Media error - recovering...');
                    hls.recoverMediaError();
                    break;
                default:
                    updateStatus('Fatal error - stream unavailable');
                    hls.destroy();
                    break;
            }
        }
    });
    
    hls.on(Hls.Events.FRAG_LOADED, () => {
        if (status.textContent.includes('Connecting')) {
            updateStatus('Stream playing live');
        }
    });
} else {
    updateStatus('HLS not supported in this browser');
}

// Click to retry functionality
video.addEventListener('click', () => {
    if (video.paused && video.readyState === 0) {
        location.reload();
    }
});
  </script>
</body>
</html>
